Chapter 6: Transaction Management
6.1 Introduction
* A transaction is a sequence of one or more SQL operations
  treated as a single logical unit of work.

Why to use Transaction ?
* Transactions ensure data integrity and consistency,
  particularly in the context of concurrent access and potential failures.

ACID Properties
Transactions in a database system must maintain the ACID properties:

* Atomicity: Ensures that all operations within the transaction
             are completed successfully. If any operation fails,
             the entire transaction fails, and the database state
             is left unchanged.

* Consistency: Ensures that a transaction takes the database from one consistent state to another.

* Isolation: Ensures that transactions are isolated from each other, meaning the operations
        of one transaction are not visible to other transactions until they are completed.

* Durability: Ensures that once a transaction is committed,
           its changes are permanent, even in the event of a system failure.

6.2 Controlling Transactions in JDBC
* In JDBC, transaction management is primarily handled through the Connection interface.

* By default, JDBC connections operate in auto-commit mode, where each individual SQL statement is treated as a transaction and automatically committed upon execution.

Step-by-Step Example:
1. Disable auto-commit mode.
To manually control transactions,
auto-commit mode must be disabled:

connection.setAutoCommit(false);

2. Committing a Transaction

Once all operations in a transaction are completed successfully, the transaction
can be committed:
connection.commit();

3. Rolling Back a Transaction
   If an error occurs, the transaction can be rolled back to undo all operations
connection.rollback();


6.3 Savepoint:
    Savepoint allow you to set intermediate points within a transaction.
    If an error occurs, you can roll back to a specific savepoint
    instead of the entire transaction.
    Creating a Savepoint:
    Savepoint savepoint1 = connection.setSavepoint("Savepoint 1");

    Rolling Back to a Savepoint:
    connection.rollback(savepoint1);

6.4 Best Practices for Transaction
Group related operations into a single transaction to
maintain data integrity.
Avoid long-running transactions to minimize locking contention.

Handle Exceptions Properly Always roll back the
transaction in case of an error.

Use appropriate exception handling mechanisms to ensure
transactions are managed correctly.

Use Savepoints carefully to provide finer control over transactions.

Consistent State Management Ensure that the application leaves the database
in a consistent state, regardless of whether transactions succeed or fail.
